<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="/vite.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Brepub - Continuous Reader</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Source+Serif+4:opsz,wght@8..60,400;8..60,500;8..60,600&display=swap"
    rel="stylesheet">
</head>

<body>
  <div id="app">
    <header class="app-header">
      <div class="logo">Brepub</div>
      <div class="actions">
        <label for="epub-upload" class="btn btn-primary">
          Upload EPUB
          <input type="file" id="epub-upload" accept=".epub" hidden />
        </label>
        <button id="toggle-sidebar" class="btn btn-secondary">Chapters</button>
        <button id="toggle-settings" class="btn btn-secondary">Settings</button>
        <button id="toggle-theme" class="btn btn-secondary" aria-label="Toggle Theme">
          <svg class="sun" viewBox="0 0 24 24" width="18" height="18">
            <path
              d="M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zM2 13h2c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1s.45 1 1 1zm18 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1zM11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1zm0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1zM5.99 4.58a.996.996 0 00-1.41 0 .996.996 0 000 1.41l1.06 1.06c.39.39 1.03.39 1.41 0s.39-1.03 0-1.41L5.99 4.58zm12.37 12.37a.996.996 0 00-1.41 0 .996.996 0 000 1.41l1.06 1.06c.39.39 1.03.39 1.41 0a.996.996 0 000-1.41l-1.06-1.06zm1.06-12.37a.996.996 0 00-1.41-1.41l-1.06 1.06a.996.996 0 101.41 1.41l1.06-1.06zm-12.37 12.37a.996.996 0 00-1.41-1.41l-1.06 1.06a.996.996 0 101.41 1.41l1.06-1.06z"
              fill="currentColor" />
          </svg>
          <svg class="moon" viewBox="0 0 24 24" width="18" height="18">
            <path
              d="M9.37 5.51c-.18 0-.36.01-.55.03 4.28 1.14 7.43 5.04 7.43 9.68 0 2.21-.73 4.23-1.95 5.88 5.25-1.16 9.17-5.83 9.17-11.41 0-6.47-5.25-11.71-11.72-11.71C10.15 1.98 8.44 2.5 7 3.39c1.64 1.25 2.62 3.23 2.62 5.43 0 .34-.04.68-.11 1.01.69-.15 1.41-.24 2.16-.24 4.14 0 7.5 3.36 7.5 7.5s-3.36 7.5-7.5 7.5c-1.31 0-2.54-.34-3.62-.93 2.76-1.18 4.71-3.9 4.71-7.07 0-4.22-3.42-7.64-7.64-7.64-.18 0-.36.01-.55.03z"
              fill="currentColor" />
          </svg>
        </button>
      </div>
    </header>

    <main class="reader-container">
      <aside id="sidebar" class="sidebar hidden">
        <div id="toc-header" class="sidebar-header">
          <h3>Table of Contents</h3>
        </div>
        <ul id="toc"></ul>
      </aside>

      <div id="viewer" class="viewer">
        <div id="empty-state" class="empty-state">
          <h1>Welcome to Brepub</h1>
          <p>Upload an EPUB file to start your continuous reading experience.</p>
        </div>
      </div>

      <div id="settings-panel" class="settings-panel hidden">
        <div class="settings-header">
          <h3>Reader Settings</h3>
          <button id="close-settings" class="btn-icon">âœ•</button>
        </div>

        <div class="setting-group">
          <label>Font Family</label>
          <div class="font-options">
            <button class="font-btn active" data-font-family="'Source Serif 4', Georgia, serif">Serif</button>
            <button class="font-btn" data-font-family="'Inter', system-ui, sans-serif">Sans</button>
            <button class="font-btn" data-font-family="'JetBrains Mono', monospace">Mono</button>
            <button class="font-btn" data-font-family="'OpenDyslexic', sans-serif">Dyslexic</button>
          </div>
        </div>

        <div class="setting-group">
          <label>Font Size: <span id="font-size-val">18px</span></label>
          <input type="range" id="font-size-slider" min="12" max="32" value="18" step="1">
        </div>

        <div class="setting-group">
          <label>Line Height: <span id="line-height-val">1.6</span></label>
          <input type="range" id="line-height-slider" min="1" max="2.5" value="1.6" step="0.1">
        </div>

        <div class="setting-group">
          <label>Reader Width: <span id="reader-width-val">80%</span></label>
          <input type="range" id="reader-width-slider" min="50" max="100" value="80" step="5">
        </div>
      </div>
    </main>

    <div id="loading-overlay" class="loading-overlay hidden">
      <div class="loader"></div>
      <p>Loading your book...</p>
    </div>
  </div>
  <script type="module" src="/src/main.js"></script>
</body>

</html>